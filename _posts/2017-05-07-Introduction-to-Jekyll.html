---
layout: default
title: Introduction to Jekyll
---

<h2>{{ page.title }}</h2>
<p>Blogging with jekyll</p>

<h3>1. 创建项目</h3>
<p>在github上创建一个空项目</p>

<h3>2. 本地clone项目</h3>
<p>git clone git@github.com:elives-GM/jekyll_demo.git</p>

<h3>3. 创建gh-pages分支</h3>
<p>git checkout -b gh-pages</p>
<p>github上只有在该分支中的页面才会生成网页。以下操作都在该分支进行。</p>

<h3>4. 创建jekyll配置文件</h3>
<p>在项目根目录下，建立一个名为_config.yml的文本文件。它是jekyll的设置文件，我们在里面填入如下内容，其他设置都可以用默认选项，具体解释参见官方网页。</p>
<p>baseurl: /jekyll_demo</p>

<h3>5. 创建模板文件</h3>
<p>在项目根目录下，创建一个_layouts目录，用于存放模板文件。</p>
<p>$ mkdir _layouts</p>
<p>进入该目录，创建一个default.html文件，作为Blog的默认模板。并在该文件中填入以下内容。</p>
<p><!DOCTYPE html>
　　<p><html></p>
　　<p><head></p>
　　　　<p><meta http-equiv="content-type" content="text/html; charset=utf-8" /></p>
　　　　<p><title>{{ page.title }}</title></p>
　　<p></head></p>
　　<p><body></p>
　　　　<p>{{ content }}</p>
　　<p></body></p>
　　<p></html></p>

<h3>6. 创建Blog</h3>
<p>在项目根目录，创建一个_posts目录，用于存放blog文章。</p>
<h3>$ mkdir _posts</h3>

<p>进入该目录，创建第一篇文章。文章就是普通的文本文件，文件名假定为2012-08-25-hello-world.html。(注意，文件名必须为"年-月-日-文章标题.后缀名"的格式。如果网页代码采用html格式，后缀名为html；如果采用markdown格式，后缀名为md。）</p>
<p>在该文件中，填入以下内容：（注意，行首不能有空格）</p>

<p>---<p>
<p>layout: default<p>
<p>title: 你好，世界<p>
<p>---<p>
<p><h2>{{ page.title }}</h2><p>
<p><p>我的第一篇文章</p><p>
<p><p>{{ page.date | date_to_string }}</p><p>

<p>每篇文章的头部，必须有一个yaml文件头，用来设置一些元数据。它用三根短划线"---"，标记开始和结束，里面每一行设置一种元数据。"layout:default"，表示该文章的模板使用_layouts目录下的default.html文件；"title: 你好，世界"，表示该文章的标题是"你好，世界"，如果不设置这个值，默认使用嵌入文件名的标题，即"hello world"。</p>

<p>在yaml文件头后面，就是文章的正式内容，里面可以使用模板变量。{{ page.title }}就是文件头中设置的"你好，世界"，{{ page.date }}则是嵌入文件名的日期（也可以在文件头重新定义date变量），"| date_to_string"表示将page.date变量转化成人类可读的格式。</p>

<h3>7. 创建首页</h3>
<p>在根目录，创建一个index.html文件，填入以下内容。</p>
<p><code>---</code><p>
<p><code>layout: default</code><p>
<p><code>title: 我的Blog</code><p>
<p><code>---</code><p>
<p><code><h2>{{ page.title }}</h2></code><p>
<p><code><p>最新文章</p></code><p>
<p><code><ul></code><p>
<p><code>{% for post in site.posts %}</code><p>
<p><code><li>{{ post.date | date_to_string }} <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></li></code><p>
<p><code>{% endfor %}</code><p>
<p><code></ul></p></code>

<p>它的Yaml文件头表示，首页使用default模板，标题为"我的Blog"。然后，首页使用了{% for post in site.posts %}，表示对所有帖子进行一个遍历。这里要注意的是，Liquid模板语言规定，输出内容使用两层大括号，单纯的命令使用一层大括号。至于{{site.baseurl}}就是_config.yml中设置的baseurl变量。</p>

<h3>8. 发布内容</h3>
<p><code>$ git add .</p></code>
<p><code>$ git commit -m "Started blog"</p></code>
<p><code>$ git remote add origin https://github.com/username/jekyll_demo.git</p></code>
<p><code>$ git push origin gh-pages</p></code>

<p>上传成功之后，等10分钟左右，访问http://username.github.com/jekyll_demo/就可以看到Blog已经生成了（将username换成你的用户名）。</code>

<p>{{ page.date | date_to_string }}</p>

